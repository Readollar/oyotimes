---
// src/components/PlaceSidebar.astro
import CardPlace from './cards/CardPlace.astro';

export interface Props {
  places: any[]; // Receives the list of "Top Places"
}
const { places } = Astro.props;
---

<aside class="space-y-8">
  
  <form action="/search" method="GET">
    <label for="sidebar-search-places" class="sr-only">Search</label>
    <div class="relative">
      <input 
        id="sidebar-search-places"
        type="search" 
        name="q"
        placeholder="Search places..."
        class="w-full px-4 py-3 border border-divider rounded-md focus:ring-2 focus:ring-primary focus:outline-none"
      />
      <button type="submit" class="absolute right-0 top-0 h-full px-4 text-muted hover:text-primary" aria-label="Submit search">
        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
      </button>
    </div>
  </form>

  <div>
    <h3 class="font-merri font-bold text-xl mb-4 border-b border-divider pb-2">Top Places</h3>
    <div class="space-y-6">
      {places.map(place => (
        // Reusing the main CardPlace component
        <CardPlace {...place} />
      ))}
    </div>
  </div>

  <div class="space-y-4">
    <div class="bg-background-alt h-64 rounded-md flex items-center justify-center text-muted font-bold">
      Ad Space (250x250)
    </div>
    <div class="bg-background-alt h-64 rounded-md flex items-center justify-center text-muted font-bold">
      Ad Space (250x250)
    </div>
  </div>
  
</aside>