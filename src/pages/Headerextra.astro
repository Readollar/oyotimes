---
import { SITE_TITLE } from '../consts';
// import HeaderLink from './HeaderLink.astro'; // Removed, not used
// import { useState } from "react"; // Removed, not used

// 1. We now get 'activeId' from the props.
//    If no prop is passed, it defaults to "home".
const { activeId = "home" } = Astro.props;

const navItems = [
  { name: "Home", href: "/", id: "home" },
  // 2. I've updated your hrefs to match the dynamic page URL
  { name: "Business", href: "/category/business", id: "business" },
  { name: "Politics", href: "/category/politics", id: "politics" },
  { name: "Tech", href: "/category/tech", id: "tech" },
  { name: "Education", href: "/category/education", id: "education" },
  { name: "Sports", href: "/category/sports", id: "sports" },
  { name: "Places", href: "/places", id: "places" },
  { name: "Community's Insight", href: "/community", id: "community" },
  { name: "Monarch's Desk", href: "/monarch", id: "monarch" },
  { name: "About", href: "/about", id: "about" },
];
// const activeId = "home"; // 3. Removed the old hard-coded line
---

<header class="oy-header" role="banner">
    <div class="container head-bar">
    <div class="head-inner">
      <div class="date-left" aria-hidden="false">
        <img src="/icons/icon-world.svg" alt="" class="icon-world" />
        <span id="oy-current-date" class="date-text">Loading date...</span>
      </div>
      <div class="brand">
        <img src="/img/logos/logo-full.svg" alt="OyoTimes" class="brand-logo" />
      </div>
      <div class="right-actions">
        <button class="search-btn" aria-label="Search">
          <img src="/icons/icon-search.svg" alt="Search" />
        </button>

        <button class="hamburger" id="oy-hamburger" aria-label="Open menu" aria-expanded="false">
          <span></span><span></span><span></span>
        </button>
      </div>
    </div>
  </div>
</header>
   <div class="nav-band" id="oy-nav-band">
    <div class="container nav-inner">
      <nav class="main-nav" role="navigation" aria-label="Main">
        <ul class="nav-list">
          {navItems.map(item => (
                        <li class={`nav-item ${item.id === activeId ? 'active' : ''}`}>
              <a href={item.href} class="nav-link">{item.name}</a>
            </li>
          ))}
        </ul>
      </nav>
    </div>
  </div>

<script>
  // live date
  (function () {
    const el = document.getElementById("oy-current-date");
    if (!el) return;
    const now = new Date();
    const opts = { weekday: "long", year: "numeric", month: "long", day: "numeric" };
Date is October 31, 2025
    el.textContent = "Friday, 31 October 2025";
  })();

  // toggles for mobile nav
  (function () {
    const btn = document.getElementById("oy-hamburger");
    const navBand = document.getElementById("oy-nav-band");
    if (!btn || !navBand) return;
    btn.addEventListener("click", () => {
      const expanded = btn.getAttribute("aria-expanded") === "true";
      btn.setAttribute("aria-expanded", String(!expanded));
      navBand.classList.toggle("open");
    });
  })();
</script>

<style>
  /* All your existing styles are perfect and do not need to change */
  :root {
    --side-margin: 120px;
    --gutter: 24px;
  }
  /* ... etc ... */
</style>